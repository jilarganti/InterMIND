# Cтруктура компонента

```
.vitepress/
└── theme/
    ├── components/
    │   └── AIChat/
    │       ├── AIChat.vue              # Компонент чата (представление)
    │       └── ChatLayout.vue          # Компонент макета чата
    ├── composables/
    │   └── useChatUi.ts               # Composable для работы с UI чата
    ├── stores/
    │   └── chatsStore.ts              # Хранилище для управления чатами
    └── utils/
        └── chatUtils.ts               # Утилиты для обработки данных чата
```

## Распределение функциональности

### 1. Компоненты (`components/`)

- **AIChat.vue**: Отображение чата, взаимодействие с пользователем
- **ChatLayout.vue**: Макет с списком чатов и быстрыми подсказками

### 2. Composables (`composables/`)

- **useChatUi.ts**: Работа с DOM-элементами, обработка ввода, скролл, рендеринг Markdown
  - Объединяет функциональность бывших `useScrollToBottom`, `useTextareaHandler` и `useMarkdown`
  - Обработка событий клика по интерактивным изображениям

### 3. Хранилища (`stores/`)

- **chatsStore.ts**: Управление списком чатов и их состоянием
  - Хранение списка чатов
  - Сохранение/загрузка сообщений
  - Выбор текущего чата

### 4. Утилиты (`utils/`)

- **chatUtils.ts**: Функции для обработки данных чата
  - Обработка маркеров изображений (`processImagesInMessage`)
  - Другие служебные функции для работы с данными
