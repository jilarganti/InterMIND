---
title: "<NuxtPage>"
description: "Компонент <NuxtPage> необходим для отображения страниц, расположенных в директории pages/."
links:
  - label: Source
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/pages/runtime/page.ts
    size: xs
---

`<NuxtPage>` — это встроенный компонент, который поставляется с Nuxt. Он позволяет отображать страницы верхнего уровня или вложенные страницы, расположенные в директории [`pages/`](/docs/guide/directory-structure/pages).

::note
`<NuxtPage>` является оберткой вокруг [`<RouterView>`](https://router.vuejs.org/api/interfaces/RouterViewProps.html#interface-routerviewprops) из Vue Router. Его следует использовать вместо `<RouterView>`, поскольку первый дополнительно заботится о внутренних состояниях. В противном случае `useRoute()` может возвращать неправильные пути.
::

`<NuxtPage>` включает следующие компоненты:

```vue
<template>
  <RouterView #default="{ Component }">
    <!-- Опционально, при использовании переходов -->
    <Transition>
      <!-- Опционально, при использовании keep-alive -->
      <KeepAlive>
        <Suspense>
          <component :is="Component" />
        </Suspense>
      </KeepAlive>
    </Transition>
  </RouterView>
</template>
```

По умолчанию Nuxt не включает `<Transition>` и `<KeepAlive>`. Вы можете включить их в файле nuxt.config или установив свойства `transition` и `keepalive` на `<NuxtPage>`. Если вы хотите определить конкретную страницу, вы можете установить это в `definePageMeta` в компоненте страницы.

::warning
Если вы включаете `<Transition>` в компоненте страницы, убедитесь, что страница имеет единственный корневой элемент.
::

Поскольку `<NuxtPage>` использует `<Suspense>` под капотом, поведение жизненного цикла компонента во время изменений страницы отличается от типичного Vue-приложения.

В типичном Vue-приложении новый компонент страницы монтируется **только после** того, как предыдущий был полностью размонтирован. Однако в Nuxt, из-за того, как реализован Vue `<Suspense>`, новый компонент страницы монтируется **до** того, как предыдущий размонтируется.

## Свойства

- `name`: указывает `<RouterView>` отрендерить компонент с соответствующим именем в опции components записи совпавшего маршрута.
  - тип: `string`
- `route`: местоположение маршрута, у которого разрешены все его компоненты.
  - тип: `RouteLocationNormalized`
- `pageKey`: контролирует, когда компонент `NuxtPage` перерендеривается.
  - тип: `string` или `function`
- `transition`: определяет глобальные переходы для всех страниц, отрендеренных с компонентом `NuxtPage`.
  - тип: `boolean` или [`TransitionProps`](https://vuejs.org/api/built-in-components#transition)
- `keepalive`: контролирует сохранение состояния страниц, отрендеренных с компонентом `NuxtPage`.
  - тип: `boolean` или [`KeepAliveProps`](https://vuejs.org/api/built-in-components#keepalive)

::tip
Nuxt автоматически разрешает `name` и `route`, сканируя и рендеря все файлы Vue-компонентов, найденные в директории `/pages`.
::

## Пример

Например, если вы передаете ключ, который никогда не изменяется, компонент `<NuxtPage>` будет отрендерен только один раз - при первом монтировании.

```vue [app.vue]
<template>
  <NuxtPage page-key="static" />
</template>
```

Вы также можете использовать динамический ключ на основе текущего маршрута:

```html
<NuxtPage :page-key="route => route.fullPath" />
```

::warning
Не используйте здесь объект `$route`, так как это может вызвать проблемы с тем, как `<NuxtPage>` рендерит страницы с `<Suspense>`.
::

В качестве альтернативы, `pageKey` может быть передан как значение `key` через [`definePageMeta`](/docs/api/utils/define-page-meta) из секции `<script>` вашего Vue компонента в директории `/pages`.

```vue [pages/my-page.vue]
<script setup lang="ts">
definePageMeta({
  key: route => route.fullPath
})
</script>
```

:link-example{to="/docs/examples/routing/pages"}

## Ref страницы

Чтобы получить `ref` компонента страницы, обратитесь к нему через `ref.value.pageRef`

````vue [app.vue]
<script setup lang="ts">
const page = ref()

function logFoo () {
  page.value.pageRef.foo()
}
</script>

<template>
  <NuxtPage ref="page" />
</template>
````

````vue [my-page.vue]
<script setup lang="ts">
const foo = () => {
  console.log('foo method called')
}

defineExpose({
  foo,
})
</script>
````

## Пользовательские пропсы

`<NuxtPage>` также принимает пользовательские пропсы, которые вам может потребоваться передать дальше по иерархии.

Например, в приведенном ниже примере значение `foobar` будет передано в компонент `NuxtPage`, а затем в компоненты страницы.

```vue [app.vue]
<template>
  <NuxtPage :foobar="123" />
</template>
```

Мы можем получить доступ к пропсу `foobar` в компоненте страницы:

```vue [pages/page.vue]
<script setup lang="ts">
const props = defineProps<{ foobar: number }>()

console.log(props.foobar) // Выводит: 123
```

Если вы не определили пропс с помощью `defineProps`, любые пропсы, переданные в `NuxtPage`, все еще могут быть доступны напрямую из `attrs` страницы:

```vue [pages/page.vue]
<script setup lang="ts">
const attrs = useAttrs()
console.log(attrs.foobar) // Выводит: 123
</script>
```

:read-more{to="/docs/guide/directory-structure/pages"}