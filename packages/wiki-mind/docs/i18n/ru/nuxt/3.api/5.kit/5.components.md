---
title: "Компоненты"
description: "Nuxt Kit предоставляет набор утилит для работы с компонентами. Вы можете регистрировать компоненты глобально или локально, а также добавлять директории для сканирования компонентов."
links:
  - label: Source
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/kit/src/components.ts
    size: xs
---

Компоненты являются строительными блоками вашего Nuxt приложения. Это переиспользуемые экземпляры Vue, которые можно использовать для создания пользовательского интерфейса. В Nuxt компоненты из директории components автоматически импортируются по умолчанию. Однако, если вам нужно импортировать компоненты из альтернативной директории или вы хотите селективно импортировать их по мере необходимости, `@nuxt/kit` предоставляет методы `addComponentsDir` и `addComponent`. Эти утилиты позволяют настроить конфигурацию компонентов в соответствии с вашими потребностями.

::tip{icon="i-lucide-video" to="https://vueschool.io/lessons/injecting-components-and-component-directories?friend=nuxt" target="_blank"}
Посмотрите видео Vue School о внедрении компонентов.
::

## `addComponentsDir`

Регистрирует директорию для сканирования компонентов и импорта только при использовании. Имейте в виду, что это не регистрирует компоненты глобально, пока вы не укажете опцию `global: true`.

### Использование

```ts
export default defineNuxtModule({
  meta: {
    name: '@nuxt/ui',
    configKey: 'ui',
  },
  setup() {
    addComponentsDir({
      path: resolve('./runtime/components'),
      prefix: 'U',
      pathPrefix: false
    })
  }
})
```

### Тип

```ts
function addComponentsDir (dir: ComponentsDir, opts: { prepend?: boolean } = {}): void
```

### Параметры

`dir` Объект со следующими свойствами:

| Свойство           | Тип                         | Обязательно | Описание                                                                                                     |
| ------------------ | ---------------------------- | -------- | --------------------------------------------------------------------------------------------------------------- |
| `path`             | `string`                     | `true`   | Путь (абсолютный или относительный) к директории, содержащей ваши компоненты. Вы можете использовать псевдонимы Nuxt (~ или @) для ссылки на директории внутри проекта или напрямую использовать путь npm пакета, аналогично require. |
| `pattern`          | `string \| string[]`{lang="ts"}          | `false`  | Шаблон, который будет выполнен для указанного пути.                                                         |
| `ignore`           | `string[]`                   | `false`  | Шаблоны игнорирования, которые будут выполнены для указанного пути.                                                        |
| `prefix`           | `string`                     | `false`  | Добавить префикс ко всем найденным компонентам с этой строкой.                                                                |
| `pathPrefix`       | `boolean`                    | `false`  | Добавить префикс к имени компонента по его пути.                                                                              |
| `enabled`          | `boolean`                    | `false`  | Игнорировать сканирование этой директории, если установлено в `true`.                                                                |
| `prefetch`         | `boolean`                    | `false`  | Эти свойства (prefetch/preload) используются в продакшене для настройки того, как компоненты с префиксом Lazy обрабатываются webpack через его магические комментарии. Узнайте больше в [документации webpack](https://webpack.js.org/api/module-methods/#magic-comments) |
| `preload`          | `boolean`                    | `false`  | Эти свойства (prefetch/preload) используются в продакшене для настройки того, как компоненты с префиксом Lazy обрабатываются webpack через его магические комментарии. Узнайте больше в [документации webpack](https://webpack.js.org/api/module-methods/#magic-comments) |
| `isAsync`          | `boolean`                    | `false`  | Этот флаг указывает, что компонент должен загружаться асинхронно (с отдельным чанком) независимо от использования префикса Lazy или нет. |
| `extendComponent`  | `(component: Component) => Promise<Component \| void> \| (Component \| void)`{lang="ts"} | `false`  | Функция, которая будет вызвана для каждого компонента, найденного в директории. Она принимает объект компонента и должна возвращать объект компонента или промис, который разрешается в объект компонента. |
| `global`           | `boolean`                    | `false`  | Если включено, регистрирует компоненты как глобально доступные.                                                      |
| `island`           | `boolean`                    | `false`  | Если включено, регистрирует компоненты как острова. Вы можете узнать больше об островах в описании компонента [`<NuxtIsland/>`](/docs/api/components/nuxt-island#nuxtisland). |
| `watch`            | `boolean`                    | `false`  | Отслеживать указанный путь на предмет изменений, включая добавление и удаление файлов.                                  |
| `extensions`       | `string[]`                   | `false`  | Расширения, поддерживаемые сборщиком Nuxt.                                                                          |
| `transpile`        | `'auto' \| boolean`{lang="ts"} | `false`  | Транспилировать указанный путь, используя build.transpile. Если установлено в `'auto'`, будет установлено `transpile: true`, если `node_modules/` находится в пути. |

`opts`

| Свойство           | Тип                         | Обязательно | Описание                                                                                                     |
| ------------------ | ---------------------------- | -------- | --------------------------------------------------------------------------------------------------------------- |
| `prepend`          | `boolean`                    | `false`  | Если установлено в `true`, директория будет добавлена в начало массива с помощью `unshift()` вместо `push()`.            |

## `addComponent`

Регистрирует компонент для автоматического импорта.

### Использование

```ts
import { defineNuxtModule, createResolver, addComponent } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: '@nuxt/image',
    configKey: 'image',
  },
  async setup() {
    const resolver = createResolver(import.meta.url)

    addComponent({
      name: 'NuxtImg',
      filePath: resolver.resolve('./runtime/components/NuxtImg.vue'),
    })

    addComponent({
      name: 'NuxtPicture',
      filePath: resolver.resolve('./runtime/components/NuxtPicture.vue'),
    })
  },
})
```

### Тип

```ts
function addComponent (options: AddComponentOptions): void
```

### Параметры

`options`: Объект со следующими свойствами:

| Свойство           | Тип                         | Обязательно | Описание                                                                                                     |
| ------------------ | ---------------------------- | -------- | --------------------------------------------------------------------------------------------------------------- |  
| `name`             | `string`                     | `true`   | Имя компонента.                                                                                                 |
| `filePath`         | `string`                     | `true`   | Путь к компоненту.                                                                                          |
| `pascalName`       | `string`                     | `false`  | Имя компонента в PascalCase. Если не указано, будет сгенерировано из имени компонента.                      |
| `kebabName`        | `string`                     | `false`  | Имя компонента в kebab-case. Если не указано, будет сгенерировано из имени компонента.                       |
| `export`           | `string`                     | `false`  | Указывает именованный или экспорт по умолчанию. Если не указано, будет установлено в `'default'`.                                 |
| `shortPath`        | `string`                     | `false`  | Короткий путь к компоненту. Если не указано, будет сгенерирован из пути компонента.                      |
| `chunkName`        | `string`                     | `false`  | Имя чанка для компонента. Если не указано, будет сгенерировано из имени компонента.                     |
| `prefetch`         | `boolean`                    | `false`  | Эти свойства (prefetch/preload) используются в продакшене для настройки того, как компоненты с префиксом Lazy обрабатываются webpack через его магические комментарии. Узнайте больше в [документации webpack](https://webpack.js.org/api/module-methods/#magic-comments) |  
| `preload`          | `boolean`                    | `false`  | Эти свойства (prefetch/preload) используются в продакшене для настройки того, как компоненты с префиксом Lazy обрабатываются webpack через его магические комментарии. Узнайте больше в [документации webpack](https://webpack.js.org/api/module-methods/#magic-comments) |
| `global`           | `boolean`                    | `false`  | Если включено, регистрирует компонент как глобально доступный.                                                        |
| `island`           | `boolean`                    | `false`  | Если включено, регистрирует компонент как остров. Вы можете узнать больше об островах в описании компонента [`<NuxtIsland/>`](/docs/api/components/nuxt-island#nuxtisland). |
| `mode`             | `'client' \| 'server' \| 'all'`{lang="ts"} | `false`  | Эта опция указывает, должен ли компонент рендериться на клиенте, сервере или на обоих. По умолчанию он будет рендериться как на клиенте, так и на сервере. |
| `priority`         | `number`                     | `false`  | Приоритет компонента, если несколько компонентов имеют одинаковое имя, будет использован тот, у которого самый высокий приоритет. |

### Примеры

Если вы хотите автоматически импортировать компонент из npm-пакета, и компонент является именованным экспортом (а не экспортом по умолчанию), вы можете использовать опцию `export` для его указания.

```ts
import { addComponent, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    // import { MyComponent as MyAutoImportedComponent } from 'my-npm-package'
    addComponent({
      name: 'MyAutoImportedComponent',
      export: 'MyComponent',
      filePath: 'my-npm-package',
    })
  },
})
```