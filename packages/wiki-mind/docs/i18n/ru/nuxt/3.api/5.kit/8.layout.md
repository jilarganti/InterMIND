---
title: "Макеты"
description: "Nuxt Kit предоставляет набор утилит для работы с макетами."
links:
  - label: Source
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/kit/src/layout.ts
    size: xs
---

Макеты используются в качестве обертки вокруг ваших страниц. Они могут использоваться для обертывания страниц общими компонентами, например, заголовком и подвалом. Макеты можно регистрировать с помощью утилиты `addLayout`.

## `addLayout`

Регистрирует шаблон как макет и добавляет его в макеты.

::note
В Nuxt 2 макет `error` также может быть зарегистрирован с помощью этой утилиты. В Nuxt 3+ макет `error` [заменен](/docs/getting-started/error-handling#rendering-an-error-page) на страницу `error.vue` в корне проекта.
::

### Использование

```ts twoslash
import { addLayout, createResolver, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    const { resolve } = createResolver(import.meta.url)

    addLayout({
      src: resolve('templates/custom-layout.ts'),
      filename: 'custom-layout.ts',
    }, 'custom')
  },
})
```

### Тип

```ts
function addLayout(layout: NuxtTemplate | string, name: string): void
```

### Параметры

**`layout`**: Объект шаблона или строка с путем к шаблону. Если предоставлена строка, она будет преобразована в объект шаблона с `src`, установленным в значение строки. Если предоставлен объект шаблона, он должен иметь следующие свойства:

| Свойство      | Тип                                              | Обязательно | Описание                                                                                                                                                                         |
| ------------- | ------------------------------------------------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `src`         | `string`                                         | `false`     | Путь к шаблону. Если `src` не предоставлен, вместо него должен быть предоставлен `getContents`.                                                                                  |
| `filename`    | `string`                                         | `false`     | Имя файла шаблона. Если `filename` не предоставлено, оно будет сгенерировано из пути `src`. В этом случае опция `src` обязательна.                                             |
| `dst`         | `string`                                         | `false`     | Путь к файлу назначения. Если `dst` не предоставлен, он будет сгенерирован из пути `filename` и опции `buildDir` nuxt.                                                          |
| `options`     | `Record<string, any>`{lang="ts"}                 | `false`     | Опции для передачи в шаблон.                                                                                                                                                    |
| `getContents` | `(data) => string \| Promise<string>`{lang="ts"} | `false`     | Функция, которая будет вызвана с объектом `options`. Она должна возвращать строку или промис, который разрешается в строку. Если предоставлен `src`, эта функция будет проигнорирована. |
| `write`       | `boolean`                                        | `false`     | Если установлено в `true`, шаблон будет записан в файл назначения. В противном случае шаблон будет использоваться только в виртуальной файловой системе.                       |

**`name`**: Имя для регистрации макета (например, `default`, `custom` и т.д.).

### Пример

Это зарегистрирует макет с именем `custom`, который оборачивает страницы заголовком и подвалом.

```ts twoslash
import { addLayout, defineNuxtModule } from '@nuxt/kit'

export default defineNuxtModule({
  setup () {
    addLayout({
      write: true,
      filename: 'my-layout.vue',
      getContents: () => `<template>
  <div>
    <header>Мой заголовок</header>
    <slot />
    <footer>Мой подвал</footer>
  </div>
</template>`,
    }, 'custom')
  },
})
```

Затем вы можете использовать этот макет на своих страницах:

```vue [pages/about.vue]
<script setup lang="ts">
definePageMeta({
  layout: 'custom',
})
</script>

<template>
  <div>Страница о нас</div>
</template>
```

::warning
Из-за отсутствия поддержки виртуальных `.vue` файлов в `@vitejs/plugin-vue`, вы можете обойти это ограничение, передав `write: true` в первый аргумент `addLayout`.
::