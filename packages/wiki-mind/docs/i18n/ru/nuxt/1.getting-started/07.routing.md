---
title: "Маршрутизация"
description: "Файловая система маршрутизации Nuxt создает маршрут для каждого файла в директории pages/."
navigation.icon: i-lucide-milestone
---

Одной из основных функций Nuxt является файловый системный роутер. Каждый Vue файл внутри директории [`pages/`](/docs/guide/directory-structure/pages) создает соответствующий URL (или маршрут), который отображает содержимое файла. Используя динамические импорты для каждой страницы, Nuxt использует разделение кода для отправки минимального количества JavaScript для запрашиваемого маршрута.

## Страницы

Маршрутизация Nuxt основана на [vue-router](https://router.vuejs.org) и генерирует маршруты из каждого компонента, созданного в [директории `pages/`](/docs/guide/directory-structure/pages), на основе их имени файла.

Эта файловая система маршрутизации использует соглашения об именовании для создания динамических и вложенных маршрутов:

::code-group

```bash [Структура директорий]
-| pages/
---| about.vue
---| index.vue
---| posts/
-----| [id].vue
```

```json [Сгенерированный файл маршрутизатора]
{
  "routes": [
    {
      "path": "/about",
      "component": "pages/about.vue"
    },
    {
      "path": "/",
      "component": "pages/index.vue"
    },
    {
      "path": "/posts/:id",
      "component": "pages/posts/[id].vue"
    }
  ]
}
```

::

:read-more{to="/docs/guide/directory-structure/pages"}

## Навигация

Компонент [`<NuxtLink>`](/docs/api/components/nuxt-link) связывает страницы между собой. Он отображает тег `<a>` с атрибутом `href`, установленным на маршрут страницы. После того как приложение гидратировано, переходы между страницами выполняются на JavaScript путем обновления URL браузера. Это предотвращает полную перезагрузку страницы и позволяет использовать анимированные переходы.

Когда [`<NuxtLink>`](/docs/api/components/nuxt-link) попадает в область просмотра на стороне клиента, Nuxt автоматически предварительно загружает компоненты и полезную нагрузку (сгенерированные страницы) связанных страниц заранее, что приводит к более быстрой навигации.

```vue [pages/index.vue]
<template>
  <header>
    <nav>
      <ul>
        <li><NuxtLink to="/about">О нас</NuxtLink></li>
        <li><NuxtLink to="/posts/1">Пост 1</NuxtLink></li>
        <li><NuxtLink to="/posts/2">Пост 2</NuxtLink></li>
      </ul>
    </nav>
  </header>
</template>
```

:read-more{to="/docs/api/components/nuxt-link"}

## Параметры маршрута

Композабл [`useRoute()`](/docs/api/composables/use-route) может использоваться в блоке `<script setup>` или методе `setup()` Vue-компонента для доступа к деталям текущего маршрута.

```vue twoslash [pages/posts/[id\\].vue]
<script setup lang="ts">
const route = useRoute()

// При обращении к /posts/1, route.params.id будет равно 1
console.log(route.params.id)
</script>
```

:read-more{to="/docs/api/composables/use-route"}

## Промежуточное ПО Маршрутов

Nuxt предоставляет настраиваемый фреймворк промежуточного ПО маршрутов, который вы можете использовать во всем приложении, идеально подходящий для извлечения кода, который вы хотите запустить перед переходом к определенному маршруту.

::note
Промежуточное ПО маршрутов выполняется в Vue-части вашего Nuxt приложения. Несмотря на похожее название, они полностью отличаются от серверного промежуточного ПО, которое выполняется в серверной части Nitro вашего приложения.
::

Существует три вида промежуточного ПО маршрутов:

1. Анонимное (или встроенное) промежуточное ПО маршрутов, которое определяется непосредственно на страницах, где оно используется.
2. Именованное промежуточное ПО маршрутов, которое размещается в директории [`middleware/`](/docs/guide/directory-structure/middleware) и будет автоматически загружено через асинхронный импорт при использовании на странице. (**Примечание**: Имя промежуточного ПО маршрута нормализуется к kebab-case, поэтому `someMiddleware` становится `some-middleware`.)
3. Глобальное промежуточное ПО маршрутов, которое размещается в директории [`middleware/`](/docs/guide/directory-structure/middleware) (с суффиксом `.global`) и будет автоматически запускаться при каждом изменении маршрута.

Пример промежуточного ПО `auth`, защищающего страницу `/dashboard`:

::code-group

```ts twoslash [middleware/auth.ts]
function isAuthenticated(): boolean { return false }
// ---cut---
export default defineNuxtRouteMiddleware((to, from) => {
  // isAuthenticated() - это пример метода, проверяющего, аутентифицирован ли пользователь
  if (isAuthenticated() === false) {
    return navigateTo('/login')
  }
})
```

```vue twoslash [pages/dashboard.vue]
<script setup lang="ts">
definePageMeta({
  middleware: 'auth'
})
</script>

<template>
  <h1>Добро пожаловать в ваш дашборд</h1>
</template>
```

::

:read-more{to="/docs/guide/directory-structure/middleware"}

## Валидация маршрутов

Nuxt предлагает валидацию маршрутов через свойство `validate` в [`definePageMeta()`](/docs/api/utils/define-page-meta) на каждой странице, которую вы хотите валидировать.

Свойство `validate` принимает `route` в качестве аргумента. Вы можете вернуть булево значение, чтобы определить, является ли это валидным маршрутом для рендеринга с этой страницей. Если вы вернете `false`, это вызовет ошибку 404. Вы также можете напрямую вернуть объект с `statusCode`/`statusMessage`, чтобы настроить возвращаемую ошибку.

Если у вас более сложный случай использования, то вместо этого вы можете использовать анонимное middleware маршрута.

```vue twoslash [pages/posts/[id\\].vue]
<script setup lang="ts">
definePageMeta({
  validate: async (route) => {
    // Проверяем, состоит ли id из цифр
    return typeof route.params.id === 'string' && /^\d+$/.test(route.params.id)
  }
})
</script>
```

:read-more{to="/docs/api/utils/define-page-meta"}