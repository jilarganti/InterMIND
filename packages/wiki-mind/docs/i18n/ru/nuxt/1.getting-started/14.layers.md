---
title: "Слои"
description: "Nuxt предоставляет мощную систему, которая позволяет расширять стандартные файлы, конфигурации и многое другое."
navigation.icon: i-lucide-layers
---

Одной из основных функций Nuxt является поддержка слоев и расширений. Вы можете расширить стандартное приложение Nuxt для повторного использования компонентов, утилит и конфигурации. Структура слоев практически идентична стандартному приложению Nuxt, что делает их простыми в создании и поддержке.

## Варианты использования

- Делитесь переиспользуемыми пресетами конфигурации между проектами, используя `nuxt.config` и `app.config`
- Создавайте библиотеку компонентов, используя директорию [`components/`](/docs/guide/directory-structure/components)
- Создавайте библиотеку утилит и композаблов, используя директории [`composables/`](/docs/guide/directory-structure/composables) и [`utils/`](/docs/guide/directory-structure/utils)
- Создавайте пресеты модулей Nuxt
- Делитесь стандартными настройками между проектами
- Создавайте темы Nuxt
- Улучшайте организацию кода, внедряя модульную архитектуру и поддерживая паттерн Domain-Driven Design (DDD) в крупномасштабных проектах.

## Использование

По умолчанию любые слои в вашем проекте в директории `~~/layers` будут автоматически зарегистрированы как слои в вашем проекте.

::note
Автоматическая регистрация слоев была введена в Nuxt v3.12.0.
::

Кроме того, именованные псевдонимы слоев для `srcDir` каждого из этих слоев будут автоматически созданы. Например, вы сможете получить доступ к слою `~~/layers/test` через `#layers/test`.

::note
Именованные псевдонимы слоев были введены в Nuxt v3.16.0.
::

Кроме того, вы можете расширить слой, добавив свойство [extends](/docs/api/nuxt-config#extends) в ваш файл [`nuxt.config`](/docs/guide/directory-structure/nuxt-config).

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    '../base',                     // Расширение от локального слоя
    '@my-themes/awesome',          // Расширение от установленного npm пакета
    'github:my-themes/awesome#v1', // Расширение от git репозитория
  ]
})
```

Вы также можете передать токен аутентификации, если расширяете от приватного GitHub репозитория:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    // конфигурация для каждого слоя
    ['github:my-themes/private-awesome', { auth: process.env.GITHUB_TOKEN }]
  ]
})
```

::tip
Вы можете переопределить псевдоним слоя, указав его в опциях рядом с источником слоя.

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    [
      'github:my-themes/awesome',
      { 
        meta: {
          name: 'my-awesome-theme',
        },
      },
    ],
  ]
})
```

::

Nuxt использует [unjs/c12](https://c12.unjs.io) и [unjs/giget](https://giget.unjs.io) для расширения удаленных слоев. Проверьте документацию для получения дополнительной информации и всех доступных опций.

## Приоритет слоев

При использовании нескольких слоев важно понимать, как они переопределяют друг друга:

1. **Слои в `extends`** - более ранние записи имеют более высокий приоритет (первый переопределяет второй)
2. **Автоматически сканируемые локальные слои** из директории `~~/layers` в алфавитном порядке (Z переопределяет A)  
3. **Ваш проект** имеет наивысший приоритет в стеке - он всегда будет переопределять другие слои

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    '../base',                     // Наивысший приоритет (среди extends)
    '@my-themes/awesome',          // Средний приоритет
    'github:my-themes/awesome#v1', // Низкий приоритет
  ]
  // Ваш проект имеет наивысший приоритет
})
```

Это означает, что если несколько слоев определяют один и тот же компонент, конфигурацию или файл, будет использован тот, который имеет более высокий приоритет.

::read-more{to="/docs/guide/going-further/layers"}
Узнайте больше о слоях в **Руководстве автора слоев**.
::

:video-accordion{title="Посмотрите видео от Learn Vue о слоях Nuxt" videoId="lnFCM7c9f7I"}

:video-accordion{title="Посмотрите видео от Alexander Lichter о слоях Nuxt" videoId="fr5yo3aVkfA"}

## Примеры

::card-group
  ::card{icon="i-simple-icons-github" title="Content Wind" to="https://github.com/Atinux/content-wind" target="_blank"}
  Легковесная тема Nuxt для создания веб-сайта на основе Markdown. Работает на Nuxt Content, TailwindCSS и Iconify.
  ::
::