---
title: "Серверный движок"
description: "Nuxt работает на новом серверном движке: Nitro."
---

При создании Nuxt мы разработали новый серверный движок: [Nitro](https://nitro.build/).

Он поставляется с множеством функций:

- Кроссплатформенная поддержка для Node.js, браузеров, service workers и многого другого.
- Готовая поддержка serverless из коробки.
- Поддержка API маршрутов.
- Автоматическое разделение кода и асинхронно загружаемые чанки.
- Гибридный режим для статических + serverless сайтов.
- Сервер разработки с горячей перезагрузкой модулей.

## Слой API

Серверные [конечные точки API](/docs/guide/directory-structure/server#api-routes) и [промежуточное ПО](/docs/guide/directory-structure/server#server-middleware) добавляются Nitro, который внутренне использует [h3](https://github.com/h3js/h3).

Ключевые особенности включают:

- Обработчики могут напрямую возвращать объекты/массивы для автоматически обрабатываемого JSON-ответа
- Обработчики могут возвращать промисы, которые будут ожидаться (`res.end()` и `next()` также поддерживаются)
- Вспомогательные функции для парсинга тела запроса, обработки cookie, перенаправлений, заголовков и многого другого

Ознакомьтесь с [документацией h3](https://github.com/h3js/h3) для получения дополнительной информации.

::read-more{to="/docs/guide/directory-structure/server#server-routes"}
Узнайте больше о слое API в директории `server/`.
::

## Прямые вызовы API

Nitro позволяет выполнять 'прямые' вызовы маршрутов через глобально доступный помощник [`$fetch`](/docs/api/utils/dollarfetch). Это выполнит API-вызов к серверу при запуске в браузере, но напрямую вызовет соответствующую функцию при запуске на сервере, **экономя дополнительный API-вызов**.

API [`$fetch`](/docs/api/utils/dollarfetch) использует [ofetch](https://github.com/unjs/ofetch), с ключевыми возможностями включая:

- Автоматический парсинг JSON-ответов (с доступом к сырому ответу при необходимости)
- Тело запроса и параметры обрабатываются автоматически, с корректными заголовками `Content-Type`

Для получения дополнительной информации о возможностях `$fetch`, ознакомьтесь с [ofetch](https://github.com/unjs/ofetch).

## Типизированные API маршруты

При использовании API маршрутов (или middleware), Nitro будет генерировать типизацию для этих маршрутов, если вы возвращаете значение вместо использования `res.end()` для отправки ответа.

Вы можете получить доступ к этим типам при использовании [`$fetch()`](/docs/api/utils/dollarfetch) или [`useFetch()`](/docs/api/composables/use-fetch).

## Автономный сервер

Nitro создает автономный серверный дистрибутив, который не зависит от `node_modules`.

Сервер в Nuxt 2 не является автономным и требует участия части ядра Nuxt при запуске `nuxt start` (с дистрибутивами [`nuxt-start`](https://www.npmjs.com/package/nuxt-start) или [`nuxt`](https://www.npmjs.com/package/nuxt)) или пользовательского программного использования, что является хрупким и склонным к поломкам и не подходит для serverless и service worker окружений.

Nuxt генерирует этот дистрибутив при выполнении `nuxt build` в директорию [`.output`](/docs/guide/directory-structure/output).

Вывод содержит runtime код для запуска вашего Nuxt сервера в любом окружении (включая экспериментальные browser service workers!) и обслуживания ваших статических файлов, делая его настоящим гибридным фреймворком для JAMstack. Кроме того, Nuxt реализует нативный слой хранения, поддерживающий мульти-источниковые драйверы и локальные ресурсы.

::read-more{icon="i-simple-icons-github" to="https://github.com/nitrojs/nitro" target="_blank"}
Узнайте больше о движке Nitro на GitHub.
::