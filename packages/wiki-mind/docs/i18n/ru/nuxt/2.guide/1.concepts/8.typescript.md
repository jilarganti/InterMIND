---
title: "TypeScript"
description: "Nuxt полностью типизирован и предоставляет полезные сокращения для обеспечения доступа к точной информации о типах во время написания кода."
---

## Проверка типов

По умолчанию Nuxt не проверяет типы при выполнении [`nuxt dev`](/docs/api/commands/dev) или [`nuxt build`](/docs/api/commands/build) по соображениям производительности.

Чтобы включить проверку типов во время сборки или разработки, установите `vue-tsc` и `typescript` как зависимости для разработки:

::code-group{sync="pm"}

  ```bash [npm]
  npm install --save-dev vue-tsc typescript
  ```

  ```bash [yarn]
  yarn add --dev vue-tsc typescript
  ```

  ```bash [pnpm]
  pnpm add -D vue-tsc typescript
  ```

  ```bash [bun]
  bun add -D vue-tsc typescript
  ```

::

Затем выполните команду [`nuxt typecheck`](/docs/api/commands/typecheck) для проверки ваших типов:

```bash [Terminal]
npx nuxt typecheck
```

Чтобы включить проверку типов во время сборки или разработки, вы также можете использовать опцию [`typescript.typeCheck`](/docs/api/nuxt-config#typecheck) в вашем файле `nuxt.config`:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  typescript: {
    typeCheck: true
  }
})
```

## Автоматически генерируемые типы

Когда вы запускаете `nuxt dev` или `nuxt build`, Nuxt генерирует следующие файлы для поддержки типов в IDE (и проверки типов):

### `.nuxt/nuxt.d.ts`

Этот файл содержит типы любых модулей, которые вы используете, а также ключевые типы, которые требует Nuxt. Ваша IDE должна автоматически распознавать эти типы.

Некоторые ссылки в файле указывают на файлы, которые генерируются только в вашем `buildDir` (`.nuxt`), и поэтому для полной типизации вам нужно будет запустить `nuxt dev` или `nuxt build`.

### `.nuxt/tsconfig.app.json`

Этот файл содержит рекомендуемую базовую конфигурацию TypeScript для вашего проекта, включая разрешенные псевдонимы, внедренные Nuxt или модулями, которые вы используете, чтобы вы могли получить полную поддержку типов и автодополнение путей для псевдонимов типа `~/file` или `#build/file`.

::note
Рассмотрите возможность использования секции `imports` в [nuxt.config](/docs/api/nuxt-config#imports) для включения директорий помимо стандартных. Это может быть полезно для автоимпорта типов, которые вы используете в своем приложении.
::

[Узнайте больше о том, как расширить эту конфигурацию](/docs/guide/directory-structure/tsconfig).

::tip{icon="i-lucide-video" to="https://youtu.be/umLI7SlPygY" target="_blank"}
Посмотрите видео от Daniel Roe, объясняющее встроенные псевдонимы Nuxt.
::

::note
Nitro также [автоматически генерирует типы](/docs/guide/concepts/server-engine#typed-api-routes) для API маршрутов. Кроме того, Nuxt также генерирует типы для глобально доступных компонентов и [автоимпорта из ваших композаблов](/docs/guide/directory-structure/composables), а также другого основного функционала.
::

::note
Для обратной совместимости Nuxt все еще генерирует `./.nuxt/tsconfig.json`. Однако мы рекомендуем использовать [ссылки на проекты TypeScript](/docs/guide/directory-structure/tsconfig) с новыми файлами конфигурации (`.nuxt/tsconfig.app.json`, `.nuxt/tsconfig.server.json` и т.д.) для лучшей безопасности типов и производительности.

Если вы расширяете от `./.nuxt/tsconfig.json`, имейте в виду, что все опции будут перезаписаны теми, которые определены в вашем `tsconfig.json`. Перезапись опций, таких как `"compilerOptions.paths"` вашей собственной конфигурацией, приведет к тому, что TypeScript не будет учитывать разрешения модулей, что может привести к тому, что разрешения модулей, такие как `#imports`, не будут распознаваться.

В случае, если вам нужно дополнительно расширить опции, вы можете использовать [свойство `alias`](/docs/api/nuxt-config#alias) в вашем `nuxt.config`. Nuxt подхватит их и соответственно расширит сгенерированные конфигурации TypeScript.
::

## Ссылки на проекты

Nuxt использует [ссылки на проекты TypeScript](https://www.typescriptlang.org/docs/handbook/project-references.html) для улучшения производительности проверки типов и обеспечения лучшей поддержки IDE. Эта функция позволяет TypeScript разбить вашу кодовую базу на более мелкие и управляемые части.

### Как Nuxt использует ссылки на проекты

Когда вы запускаете `nuxt dev` или `nuxt build`, Nuxt создаст несколько файлов `tsconfig.json` для различных частей вашего приложения.

- **`.nuxt/tsconfig.app.json`** - Конфигурация для кода вашего приложения
- **`.nuxt/tsconfig.node.json`** - Конфигурация для вашего `nuxt.config` и модулей
- **`.nuxt/tsconfig.server.json`** - Конфигурация для серверного кода (когда применимо)
- **`.nuxt/tsconfig.shared.json`** - Для кода, общего между контекстами приложения и сервера (например, типы и утилиты, не зависящие от окружения)
- **`.nuxt/tsconfig.json`** - Устаревшая конфигурация для обратной совместимости

Каждый из этих файлов настроен для ссылки на соответствующие зависимости и обеспечения оптимальной проверки типов для их конкретного контекста.

### Преимущества ссылок на проекты

- **Более быстрые сборки**: TypeScript может пропустить пересборку неизмененных проектов
- **Лучшая производительность IDE**: Ваша IDE может обеспечить более быстрый IntelliSense и проверку ошибок
- **Изолированная компиляция**: Ошибки в одной части вашего приложения не препятствуют компиляции других частей
- **Более четкое управление зависимостями**: Каждый проект явно объявляет свои зависимости

::note
Настройка ссылок на проекты обрабатывается автоматически Nuxt. Обычно вам не нужно изменять эти конфигурации вручную, но понимание того, как они работают, может помочь вам устранить проблемы с проверкой типов.
::

### Расширение типов с помощью ссылок на проекты

Поскольку проект разделен на **несколько контекстов типов**, важно **расширять типы в правильном контексте**, чтобы они были правильно распознаны.

Например, если вы хотите расширить типы для контекста `app`, файл расширения должен быть размещен в директории `app/`.

Аналогично:
- Для контекста `server` поместите файл расширения в директорию `server/`.
- Для типов, которые **разделяются между приложением и сервером**, поместите файл в директорию `shared/`.

::warning
Расширение типов вне этих директорий не будет распознано TypeScript.
::

## Строгие проверки

TypeScript поставляется с определенными проверками, чтобы обеспечить большую безопасность и анализ вашей программы.

[Строгие проверки](https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html#getting-stricter-checks) включены по умолчанию в Nuxt, чтобы обеспечить большую типобезопасность.

Если вы в настоящее время конвертируете свою кодовую базу в TypeScript, вы можете временно отключить строгие проверки, установив `strict` в `false` в вашем `nuxt.config`:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  typescript: {
    strict: false
  }
})
```