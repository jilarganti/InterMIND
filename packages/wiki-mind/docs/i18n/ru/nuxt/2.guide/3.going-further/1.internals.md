---
title: "Как работает Nuxt?"
description: "Nuxt — это минималистичный, но легко настраиваемый фреймворк для создания веб-приложений."
---

Это руководство поможет вам лучше понять внутреннее устройство Nuxt для разработки новых решений и интеграции модулей на основе Nuxt.

## Интерфейс Nuxt

Когда вы запускаете Nuxt в режиме разработки с помощью [`nuxt dev`](/docs/api/commands/dev) или создаете продакшн-приложение с помощью [`nuxt build`](/docs/api/commands/build),
создается общий контекст, который внутренне называется `nuxt`. Он содержит нормализованные опции, объединенные с файлом `nuxt.config`,
некоторое внутреннее состояние и мощную [систему хуков](/docs/api/advanced/hooks), работающую на основе [unjs/hookable](https://github.com/unjs/hookable),
которая позволяет различным компонентам взаимодействовать друг с другом. Вы можете думать об этом как о **ядре сборщика**.

Этот контекст глобально доступен для использования с композаблами [Nuxt Kit](/docs/guide/going-further/kit).
Поэтому в одном процессе может работать только один экземпляр Nuxt.

Чтобы расширить интерфейс Nuxt и подключиться к различным этапам процесса сборки, мы можем использовать [модули Nuxt](/docs/guide/going-further/modules).

Для получения более подробной информации ознакомьтесь с [исходным кодом](https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/core/nuxt.ts).

## Интерфейс NuxtApp

При рендеринге страницы в браузере или на сервере создается общий контекст, называемый `nuxtApp`.
Этот контекст хранит экземпляр vue, хуки времени выполнения и внутренние состояния, такие как ssrContext и payload для гидратации.
Вы можете думать о нем как о **ядре времени выполнения**.

Этот контекст можно получить с помощью композабла [`useNuxtApp()`](/docs/api/composables/use-nuxt-app) внутри плагинов Nuxt и `<script setup>` и композаблов vue.
Глобальное использование возможно для браузера, но не на сервере, чтобы избежать совместного использования контекста между пользователями.

Поскольку [`useNuxtApp`](/docs/api/composables/use-nuxt-app) выбрасывает исключение, если контекст в данный момент недоступен, если ваш композабл не всегда требует `nuxtApp`, вы можете использовать [`tryUseNuxtApp`](/docs/api/composables/use-nuxt-app#tryusenuxtapp) вместо этого, который вернет `null` вместо выброса исключения.

Чтобы расширить интерфейс `nuxtApp` и подключиться к различным этапам или получить доступ к контекстам, мы можем использовать [плагины Nuxt](/docs/guide/directory-structure/plugins).

Проверьте [Nuxt App](/docs/api/composables/use-nuxt-app) для получения дополнительной информации об этом интерфейсе.

`nuxtApp` имеет следующие свойства:

```js
const nuxtApp = {
  vueApp, // глобальное приложение Vue: https://vuejs.org/api/application.html#application-api

  versions, // объект, содержащий версии Nuxt и Vue

  // Они позволяют вызывать и добавлять хуки NuxtApp времени выполнения
  // https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts#L18
  hooks,
  hook,
  callHook,

  // Доступно только на стороне сервера
  ssrContext: {
    url,
    req,
    res,
    runtimeConfig,
    noSSR,
  },

  // Это будет преобразовано в строку и передано с сервера клиенту
  payload: {
    serverRendered: true,
    data: {},
    state: {}
  }

  provide: (name: string, value: any) => void
}
```

Для получения более подробной информации ознакомьтесь с [исходным кодом](https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts).

## Контекст выполнения против контекста сборки

Nuxt собирает и упаковывает проект с использованием Node.js, но также имеет сторону выполнения.

Хотя обе области могут быть расширены, контекст выполнения изолирован от времени сборки. Поэтому они не должны разделять состояние, код или контекст, кроме конфигурации выполнения!

`nuxt.config` и [модули Nuxt](/docs/guide/going-further/modules) могут использоваться для расширения контекста сборки, а [плагины Nuxt](/docs/guide/directory-structure/plugins) могут использоваться для расширения времени выполнения.

При сборке приложения для продакшена, `nuxt build` создаст автономную сборку в директории `.output`, независимую от `nuxt.config` и [модулей Nuxt](/docs/guide/going-further/modules).