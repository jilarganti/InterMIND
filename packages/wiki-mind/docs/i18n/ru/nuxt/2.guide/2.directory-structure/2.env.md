---
title: ".env"
description: "Файл .env определяет переменные окружения для времени сборки и разработки."
head.title: ".env"
navigation.icon: i-lucide-file
---

::important
Этот файл должен быть добавлен в ваш файл [`.gitignore`](/docs/guide/directory-structure/gitignore), чтобы избежать отправки секретов в ваш репозиторий.
::

## Время разработки, сборки и генерации

Nuxt CLI имеет встроенную поддержку [dotenv](https://github.com/motdotla/dotenv) в режиме разработки и при выполнении [`nuxt build`](/docs/api/commands/build) и [`nuxt generate`](/docs/api/commands/generate).

В дополнение к любым переменным окружения процесса, если у вас есть файл `.env` в корневой директории проекта, он будет автоматически загружен **во время разработки, сборки и генерации**. Любые переменные окружения, установленные там, будут доступны в вашем файле `nuxt.config` и модулях.

```ini [.env]
MY_ENV_VARIABLE=hello
```

::note
Обратите внимание, что удаление переменной из `.env` или полное удаление файла `.env` не отменит значения, которые уже были установлены.
::

## Пользовательский файл

Если вы хотите использовать другой файл - например, `.env.local` или `.env.production` - вы можете сделать это, передав флаг `--dotenv` при использовании Nuxt CLI.

```bash [Terminal]
npx nuxt dev --dotenv .env.local
```

При обновлении `.env` в режиме разработки экземпляр Nuxt автоматически перезапускается для применения новых значений к `process.env`.

::important
В коде вашего приложения следует использовать [Runtime Config](/docs/guide/going-further/runtime-config) вместо обычных переменных окружения.
::

## Продакшен

**После сборки вашего сервера** вы несете ответственность за установку переменных окружения при запуске сервера.

Ваши `.env` файлы не будут считываться на этом этапе. Способ выполнения этого различается для каждой среды.

Это проектное решение было принято для обеспечения совместимости с различными средами развертывания, некоторые из которых могут не иметь традиционной файловой системы, такие как serverless платформы или edge сети, например Cloudflare Workers.

Поскольку `.env` файлы не используются в продакшене, вы должны явно устанавливать переменные окружения, используя инструменты и методы, предоставляемые вашей хостинговой средой. Вот несколько распространенных подходов:

* Вы можете передать переменные окружения как аргументы, используя терминал:

   `$ DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs`

* Вы можете установить переменные окружения в файлах конфигурации оболочки, таких как `.bashrc` или `.profile`.

* Многие поставщики облачных сервисов, такие как Vercel, Netlify и AWS, предоставляют интерфейсы для установки переменных окружения через свои панели управления, CLI инструменты или файлы конфигурации.

::important
`runtimeConfig` [не будет подхватывать переменные окружения, которые не начинаются с `NUXT_` в продакшене] (https://nuxt.com/docs/guide/going-further/runtime-config#environment-variables).
::

## Предварительный просмотр продакшена

Для локального предварительного просмотра продакшена мы рекомендуем использовать [`nuxt preview`](/docs/api/commands/preview), поскольку при использовании этой команды файл `.env` будет загружен в `process.env` для удобства. Обратите внимание, что эта команда требует установки зависимостей в директории пакета.

Или вы можете передать переменные окружения как аргументы через терминал. Например, в Linux или macOS:

```bash [Terminal]
DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs
```

Обратите внимание, что для чисто статического сайта невозможно установить конфигурацию runtime configuration после предварительной сборки вашего проекта.

:read-more{to="/docs/guide/going-further/runtime-config"}

::note
Если вы хотите использовать переменные окружения, установленные во время сборки, но не заботитесь об их обновлении в дальнейшем (или нужно обновлять их реактивно только _внутри_ вашего приложения), то `appConfig` может быть лучшим выбором. Вы можете определить `appConfig` как в вашем `nuxt.config` (используя переменные окружения), так и в файле `~/app.config.ts` в вашем проекте.
:read-more{to="/docs/guide/directory-structure/app-config"}
::