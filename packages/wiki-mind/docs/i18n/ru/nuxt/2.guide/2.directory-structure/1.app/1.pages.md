---
title: "pages"
description: "Nuxt предоставляет файловую маршрутизацию для создания маршрутов в вашем веб-приложении."
head.title: "pages/"
navigation.icon: i-lucide-folder
---

::note
Чтобы уменьшить размер бандла вашего приложения, эта директория является **опциональной**, что означает, что [`vue-router`](https://router.vuejs.org) не будет включен, если вы используете только [`app.vue`](/docs/guide/directory-structure/app). Чтобы принудительно включить систему страниц, установите `pages: true` в `nuxt.config` или создайте файл [`router.options.ts`](/docs/guide/recipes/custom-routing#using-approuteroptions).
::

## Использование

Страницы являются Vue компонентами и могут иметь любое [допустимое расширение](/docs/api/configuration/nuxt-config#extensions), которое поддерживает Nuxt (по умолчанию `.vue`, `.js`, `.jsx`, `.mjs`, `.ts` или `.tsx`).

Nuxt автоматически создаст маршрут для каждой страницы в вашей директории `~/pages/`.

::code-group

```vue [pages/index.vue]
<template>
  <h1>Главная страница</h1>
</template>
```

```ts twoslash [pages/index.ts]
// https://vuejs.org/guide/extras/render-function.html
export default defineComponent({
  render () {
    return h('h1', 'Главная страница')
  }
})
```

```tsx twoslash [pages/index.tsx]
// https://nuxt.com/docs/examples/advanced/jsx
// https://vuejs.org/guide/extras/render-function.html#jsx-tsx
export default defineComponent({
  render () {
    return <h1>Главная страница</h1>
  }
})
```

::

Файл `pages/index.vue` будет сопоставлен с маршрутом `/` вашего приложения.

Если вы используете [`app.vue`](/docs/guide/directory-structure/app), убедитесь, что используете компонент [`<NuxtPage/>`](/docs/api/components/nuxt-page) для отображения текущей страницы:

```vue [app.vue]
<template>
  <div>
    <!-- Разметка, общая для всех страниц, например: NavBar -->
    <NuxtPage />
  </div>
</template>
```

Страницы **должны иметь единственный корневой элемент**, чтобы обеспечить [переходы между маршрутами](/docs/getting-started/transitions) между страницами. HTML комментарии также считаются элементами.

Это означает, что когда маршрут отрендерен на сервере или статически сгенерирован, вы сможете корректно видеть его содержимое, но когда вы переходите к этому маршруту во время клиентской навигации, переход между маршрутами не сработает, и вы увидите, что маршрут не будет отрендерен.

Вот несколько примеров, иллюстрирующих, как выглядит страница с единственным корневым элементом:

::code-group

```vue [pages/working.vue]
<template>
  <div>
    <!-- Эта страница корректно имеет только один единственный корневой элемент -->
    Содержимое страницы
  </div>
</template>
```

```vue [pages/bad-1.vue]
<template>
  <!-- Эта страница не будет отрендерена при изменении маршрута во время клиентской навигации из-за этого комментария -->
  <div>Содержимое страницы</div>
</template>
```

```vue [pages/bad-2.vue]
<template>
  <div>Эта страница</div>
  <div>Имеет более одного корневого элемента</div>
  <div>И не будет отрендерена при изменении маршрута во время клиентской навигации</div>
</template>
```

::

## Динамические маршруты

Если вы поместите что-либо в квадратные скобки, это будет преобразовано в параметр [динамического маршрута](https://router.vuejs.org/guide/essentials/dynamic-matching.html). Вы можете комбинировать несколько параметров и даже нединамический текст в имени файла или директории.

Если вы хотите, чтобы параметр был _необязательным_, вы должны заключить его в двойные квадратные скобки - например, `~/pages/[[slug]]/index.vue` или `~/pages/[[slug]].vue` будут соответствовать как `/`, так и `/test`.

```bash [Структура директорий]
-| pages/
---| index.vue
---| users-[group]/
-----| [id].vue
```

В приведенном выше примере вы можете получить доступ к group/id внутри вашего компонента через объект `$route`:

```vue [pages/users-[group\\]/[id\\].vue]
<template>
  <p>{{ $route.params.group }} - {{ $route.params.id }}</p>
</template>
```

Переход к `/users-admins/123` отобразит:

```html
<p>admins - 123</p>
```

Если вы хотите получить доступ к маршруту, используя Composition API, есть глобальная функция [`useRoute`](/docs/api/composables/use-route), которая позволит вам получить доступ к маршруту так же, как `this.$route` в Options API.

```vue twoslash
<script setup lang="ts">
const route = useRoute()

if (route.params.group === 'admins' && !route.params.id) {
  console.log('Предупреждение! Убедитесь, что пользователь аутентифицирован!')
}
</script>
```

::note
Именованные родительские маршруты будут иметь приоритет над вложенными динамическими маршрутами. Для маршрута `/foo/hello`, `~/pages/foo.vue` будет иметь приоритет над `~/pages/foo/[slug].vue`. :br Используйте `~/pages/foo/index.vue` и `~/pages/foo/[slug].vue` для соответствия `/foo` и `/foo/hello` с разными страницами.
::

:video-accordion{title="Посмотрите видео от Vue School о динамических маршрутах" videoId="754465699" platform="vimeo"}

## Универсальный маршрут

Если вам нужен универсальный маршрут, вы создаете его, используя файл с именем типа `[...slug].vue`. Это будет соответствовать _всем_ маршрутам под этим путем.

```vue [pages/[...slug\\].vue]
<template>
  <p>{{ $route.params.slug }}</p>
</template>
```

Переход к `/hello/world` отобразит:

```html
<p>["hello", "world"]</p>
```

## Вложенные маршруты

Можно отображать [вложенные маршруты](https://next.router.vuejs.org/guide/essentials/nested-routes.html) с помощью `<NuxtPage>`.

Пример:

```bash [Структура директорий]
-| pages/
---| parent/
-----| child.vue
---| parent.vue
```

Это дерево файлов сгенерирует следующие маршруты:

```js
[
  {
    path: '/parent',
    component: '~/pages/parent.vue',
    name: 'parent',
    children: [
      {
        path: 'child',
        component: '~/pages/parent/child.vue',
        name: 'parent-child'
      }
    ]
  }
]
```

Чтобы отобразить компонент `child.vue`, необходимо вставить компонент `<NuxtPage>` внутрь `pages/parent.vue`:

```vue {}[pages/parent.vue]
<template>
  <div>
    <h1>Я родительское представление</h1>
    <NuxtPage :foobar="123" />
  </div>
</template>
```

```vue {}[pages/parent/child.vue]
<script setup lang="ts">
const props = defineProps(['foobar'])

console.log(props.foobar)
</script>
```

### Ключи дочерних маршрутов

Если вы хотите больше контроля над тем, когда компонент `<NuxtPage>` перерендеривается (например, для переходов), вы можете передать строку или функцию через свойство `pageKey`, или определить значение `key` через `definePageMeta`:

```vue {}[pages/parent.vue]
<template>
  <div>
    <h1>Я родительское представление</h1>
    <NuxtPage :page-key="route => route.fullPath" />
  </div>
</template>
```

Или альтернативно:

```vue twoslash {}[pages/parent/child.vue]
<script setup lang="ts">
definePageMeta({
  key: route => route.fullPath
})
</script>
```

:link-example{to="/docs/examples/routing/pages"}

## Группы маршрутов

В некоторых случаях вы можете захотеть сгруппировать набор маршрутов таким образом, чтобы это не влияло на файловую маршрутизацию. Для этой цели вы можете поместить файлы в папку, которая заключена в круглые скобки - `(` и `)`.

Например:

```bash [Структура директорий]
-| pages/
---| index.vue
---| (marketing)/
-----| about.vue
-----| contact.vue
```

Это создаст страницы `/`, `/about` и `/contact` в вашем приложении. Группа `marketing` игнорируется для целей структуры URL.

## Метаданные страницы

Вы можете захотеть определить метаданные для каждого маршрута в вашем приложении. Вы можете сделать это с помощью макроса `definePageMeta`, который будет работать как в `<script>`, так и в `<script setup>`:

```vue twoslash
<script setup lang="ts">
definePageMeta({
  title: 'Моя домашняя страница'
})
</script>
```

Эти данные затем могут быть доступны во всем остальном приложении из объекта `route.meta`.

```vue twoslash
<script setup lang="ts">
const route = useRoute()

console.log(route.meta.title) // Моя домашняя страница
</script>
```

Если вы используете вложенные маршруты, метаданные страницы из всех этих маршрутов будут объединены в один объект. Подробнее о мета-данных маршрутов см. в [документации vue-router](https://router.vuejs.org/guide/advanced/meta.html#route-meta-fields).

Как и `defineEmits` или `defineProps` (см. [документацию Vue](https://vuejs.org/api/sfc-script-setup.html#defineprops-defineemits)), `definePageMeta` является **макросом компилятора**. Он будет скомпилирован, поэтому вы не можете ссылаться на него внутри вашего компонента. Вместо этого метаданные, переданные в него, будут подняты из компонента.
Поэтому объект мета-данных страницы не может ссылаться на компонент. Однако он может ссылаться на импортированные привязки, а также на локально определенные **чистые функции**.

::warning
Убедитесь, что не ссылаетесь на какие-либо реактивные данные или функции, которые вызывают побочные эффекты. Это может привести к неожиданному поведению.
::

```vue
<script setup lang="ts">
import { someData } from '~/utils/example'

function validateIdParam(route) {
  return route.params.id && !isNaN(Number(route.params.id))
}

const title = ref('')

definePageMeta({
  validate: validateIdParam,
  someData,
  title,    // не делайте этого, ref будет поднят из компонента
})
</script>
```

### Специальные метаданные

Конечно, вы можете определить метаданные для собственного использования в вашем приложении. Но некоторые метаданные, определенные с помощью `definePageMeta`, имеют особое назначение:

#### `alias`

Вы можете определить псевдонимы страниц. Они позволяют получить доступ к одной и той же странице по разным путям. Это может быть либо строка, либо массив строк, как определено [в документации vue-router](https://router.vuejs.org/guide/essentials/redirect-and-alias.html#Alias).

#### `keepalive`

Nuxt автоматически обернет вашу страницу в [компонент Vue `<KeepAlive>`](https://vuejs.org/guide/built-ins/keep-alive.html#keepalive), если вы установите `keepalive: true` в вашем `definePageMeta`. Это может быть полезно, например, в родительском маршруте, который имеет динамические дочерние маршруты, если вы хотите сохранить состояние страницы при изменении маршрутов.

Когда ваша цель - сохранить состояние для родительских маршрутов, используйте этот синтаксис: `<NuxtPage keepalive />`. Вы также можете установить свойства для передачи в `<KeepAlive>` (см. [полный список](https://vuejs.org/api/built-in-components.html#keepalive)).

Вы можете установить значение по умолчанию для этого свойства [в вашем `nuxt.config`](/docs/api/nuxt-config#keepalive).

#### `key`

[См. выше](#child-route-keys).

#### `layout`

Вы можете определить макет, используемый для рендеринга маршрута. Это может быть либо false (чтобы отключить любой макет), строка или ref/computed, если вы хотите сделать его реактивным каким-либо образом. [Подробнее о макетах](/docs/guide/directory-structure/layouts).

#### `layoutTransition` и `pageTransition`

Вы можете определить свойства перехода для компонента `<transition>`, который обертывает ваши страницы и макеты, или передать `false`, чтобы отключить обертку `<transition>` для этого маршрута. Вы можете посмотреть [список опций, которые можно передать](https://vuejs.org/api/built-in-components.html#transition) или прочитать [подробнее о том, как работают переходы](https://vuejs.org/guide/built-ins/transition.html#transition).

Вы можете установить значения по умолчанию для этих свойств [в вашем `nuxt.config`](/docs/api/nuxt-config#layouttransition).

#### `middleware`

Вы можете определить middleware для применения перед загрузкой этой страницы. Оно будет объединено со всеми другими middleware, используемыми в любых соответствующих родительских/дочерних маршрутах. Это может быть строка, функция (анонимная/встроенная функция middleware, следующая [шаблону глобального охранника перед переходом](https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards)) или массив строк/функций. [Подробнее об именованном middleware](/docs/guide/directory-structure/middleware).

#### `name`

Вы можете определить имя для маршрута этой страницы.

#### `path`

Вы можете определить сопоставитель пути, если у вас есть более сложный шаблон, чем можно выразить именем файла. См. [документацию `vue-router`](https://router.vuejs.org/guide/essentials/route-matching-syntax.html#custom-regex-in-params) для получения дополнительной информации.

#### `props`

Позволяет получить доступ к `params` маршрута как к свойствам, переданным в компонент страницы. См. [документацию `vue-router`](https://router.vuejs.org/guide/essentials/passing-props) для получения дополнительной информации.

### Типизация пользовательских метаданных

Если вы добавляете пользовательские метаданные для ваших страниц, вы можете захотеть сделать это типобезопасным способом. Возможно расширить тип объекта, принимаемого `definePageMeta`:

```ts [index.d.ts]
declare module '#app' {
  interface PageMeta {
    pageType?: string
  }
}

// Всегда важно убедиться, что вы импортируете/экспортируете что-то при расширении типа
export {}
```

## Навигация

Для навигации между страницами вашего приложения следует использовать компонент [`<NuxtLink>`](/docs/api/components/nuxt-link).

Этот компонент включен в Nuxt, поэтому вам не нужно импортировать его, как вы делаете с другими компонентами.

Простая ссылка на страницу `index.vue` в папке `pages`:

```vue
<template>
  <NuxtLink to="/">Главная страница</NuxtLink>
</template>
```

::read-more{to="/docs/api/components/nuxt-link"}
Узнайте больше об использовании `<NuxtLink>`.
::

## Программная навигация

Nuxt позволяет программную навигацию через утилитарный метод `navigateTo()`. Используя этот утилитарный метод, вы сможете программно перенаправлять пользователя в вашем приложении. Это отлично подходит для получения данных от пользователя и динамической навигации по всему приложению. В этом примере у нас есть простой метод под названием `navigate()`, который вызывается, когда пользователь отправляет форму поиска.

::note
Убедитесь, что всегда используете `await` для `navigateTo` или связываете его результат, возвращая из функций.
::

```vue twoslash
<script setup lang="ts">
const name = ref('');
const type = ref(1);

function navigate(){
  return navigateTo({
    path: '/search',
    query: {
      name: name.value,
      type: type.value
    }
  })
}
</script>
```

## Страницы только для клиента

Вы можете определить страницу как [только для клиента](/docs/guide/directory-structure/components#client-components), добавив к ней суффикс `.client.vue`. Никакое содержимое этой страницы не будет отрендерено на сервере.

## Страницы только для сервера

Вы можете определить страницу как [только для сервера](/docs/guide/directory-structure/components#server-components), добавив к ней суффикс `.server.vue`. Хотя вы сможете перейти на страницу, используя клиентскую навигацию, контролируемую `vue-router`, она будет отрендерена с серверным компонентом автоматически, что означает, что код, необходимый для рендеринга страницы, не будет включен в ваш клиентский бандл.

::warning
Страницы только для сервера должны иметь единственный корневой элемент. (HTML-комментарии также считаются элементами.)
::

## Пользовательская маршрутизация

По мере роста и усложнения вашего приложения, маршрутизация может потребовать большей гибкости. По этой причине Nuxt напрямую предоставляет доступ к роутеру, маршрутам и опциям роутера для настройки различными способами.

:read-more{to="/docs/guide/recipes/custom-routing"}

## Директории с несколькими страницами

По умолчанию все ваши страницы должны находиться в одной директории `pages` в корне вашего проекта.

Однако вы можете использовать [Nuxt Layers](/docs/getting-started/layers) для создания группировок страниц вашего приложения:

```bash [Структура директорий]
-| some-app/
---| nuxt.config.ts
---| pages/
-----| app-page.vue
-| nuxt.config.ts
```

```ts twoslash [some-app/nuxt.config.ts]
// some-app/nuxt.config.ts
export default defineNuxtConfig({
})
```

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  extends: ['./some-app'],
})
```

:read-more{to="/docs/guide/going-further/layers"}