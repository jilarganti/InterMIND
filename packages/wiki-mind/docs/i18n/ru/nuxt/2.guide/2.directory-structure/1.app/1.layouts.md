---
title: "Макеты"
head.title: "layouts/"
description: "Nuxt предоставляет фреймворк макетов для извлечения общих UI-паттернов в переиспользуемые макеты."
navigation.icon: i-lucide-folder
---

::tip{icon="i-lucide-rocket" }
Для лучшей производительности компоненты, размещенные в этой директории, будут автоматически загружаться через асинхронный импорт при использовании.
::

## Включение макетов

Макеты включаются путем добавления [`<NuxtLayout>`](/docs/api/components/nuxt-layout) в ваш [`app.vue`](/docs/guide/directory-structure/app):

```vue [app.vue]
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```

Чтобы использовать макет:
- Установите свойство `layout` на вашей странице с помощью [definePageMeta](/docs/api/utils/define-page-meta).
- Установите свойство `name` для `<NuxtLayout>`.

::note
Имя макета нормализуется в kebab-case, поэтому `someLayout` становится `some-layout`.
::

::note
Если макет не указан, будет использоваться `layouts/default.vue`.
::

::important
Если в вашем приложении есть только один макет, мы рекомендуем использовать [`app.vue`](/docs/guide/directory-structure/app) вместо этого.
::

::important
В отличие от других компонентов, ваши макеты должны иметь единственный корневой элемент, чтобы позволить Nuxt применять переходы между изменениями макета - и этот корневой элемент не может быть `<slot />`.
::

## Макет по умолчанию

Добавьте `~/layouts/default.vue`:

```vue [layouts/default.vue]
<template>
  <div>
    <p>Некоторое содержимое макета по умолчанию, общее для всех страниц</p>
    <slot />
  </div>
</template>
```

В файле макета содержимое страницы будет отображаться в компоненте `<slot />`.

## Именованный макет

```bash [Структура директорий]
-| layouts/
---| default.vue
---| custom.vue
```

Затем вы можете использовать макет `custom` на вашей странице:

```vue twoslash [pages/about.vue]
<script setup lang="ts">
definePageMeta({
  layout: 'custom'
})
</script>
```

::read-more{to="/docs/guide/directory-structure/pages#page-metadata"}
Узнайте больше о `definePageMeta`.
::

Вы можете напрямую переопределить макет по умолчанию для всех страниц, используя свойство `name` компонента [`<NuxtLayout>`](/docs/api/components/nuxt-layout):

```vue [app.vue]
<script setup lang="ts">
// Вы можете выбрать это на основе API-вызова или статуса авторизации
const layout = "custom";
</script>

<template>
  <NuxtLayout :name="layout">
    <NuxtPage />
  </NuxtLayout>
</template>
```

Если у вас есть макет во вложенных директориях, имя макета будет основано на пути его директории и имени файла, при этом дублирующиеся сегменты будут удалены.

Файл | Имя макета
-- | --
`~/layouts/desktop/default.vue` | `desktop-default`
`~/layouts/desktop-base/base.vue` | `desktop-base`
`~/layouts/desktop/index.vue` | `desktop`

Для ясности мы рекомендуем, чтобы имя файла макета соответствовало его названию:

Файл | Имя макета
-- | --
`~/layouts/desktop/DesktopDefault.vue` | `desktop-default`
`~/layouts/desktop-base/DesktopBase.vue` | `desktop-base`
`~/layouts/desktop/Desktop.vue` | `desktop`

:link-example{to="/docs/examples/features/layouts"}

## Динамическое изменение макета

Вы также можете использовать помощник [`setPageLayout`](/docs/api/utils/set-page-layout) для динамического изменения макета:

```vue twoslash
<script setup lang="ts">
function enableCustomLayout () {
  setPageLayout('custom')
}
definePageMeta({
  layout: false,
});
</script>

<template>
  <div>
    <button @click="enableCustomLayout">Обновить макет</button>
  </div>
</template>
```

:link-example{to="/docs/examples/features/layouts"}

## Переопределение макета для отдельной страницы

Если вы используете страницы, вы можете получить полный контроль, установив `layout: false` и затем используя компонент `<NuxtLayout>` внутри страницы.

::code-group

```vue [pages/index.vue]
<script setup lang="ts">
definePageMeta({
  layout: false,
})
</script>

<template>
  <div>
    <NuxtLayout name="custom">
      <template #header> Содержимое шаблона заголовка. </template>

      Остальная часть страницы
    </NuxtLayout>
  </div>
</template>
```

```vue [layouts/custom.vue]
<template>
  <div>
    <header>
      <slot name="header">
        Содержимое заголовка по умолчанию
      </slot>
    </header>
    <main>
      <slot />
    </main>
  </div>
</template>
```

::

::important
Если вы используете `<NuxtLayout>` внутри ваших страниц, убедитесь, что он не является корневым элементом (или [отключите переходы макета/страницы](/docs/getting-started/transitions#disable-transitions)).
::